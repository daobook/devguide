<!doctype html>
<html class="no-js" lang="zh_CN">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="索引" href="genindex.html" /><link rel="search" title="搜索" href="search.html" /><link rel="next" title="Silence Warnings From the Test Suite" href="silencewarnings.html" /><link rel="prev" title="Helping with Documentation" href="docquality.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.01.02"/>
        <title>Documenting Python - Python Developer&#39;s Guide</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=df49af52631e7917044a9c21a57f7b83170a6dd0" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=fade93df149f7c5fedb3ff897f799dc7d283b420" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Python Developer's Guide </div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/python-logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Python Developer's Guide </span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=搜索 name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setup.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Where to Get Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="pullrequest.html">Lifecycle of a Pull Request</a></li>
<li class="toctree-l1"><a class="reference internal" href="runtests.html">Running &amp; Writing Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="coverage.html">Increase Test Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="docquality.html">Helping with Documentation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Documenting Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="silencewarnings.html">Silence Warnings From the Test Suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixingissues.html">Fixing “easy” Issues (and Beyond)</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracker.html">Issue Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="triaging.html">Triaging an Issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication.html">Following Python’s Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="porting.html">Porting Python to a new platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="coredev.html">How to Become a Core Developer</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Developer Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="committing.html">Accepting Pull Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="devcycle.html">Development Cycle</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildbots.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="stdlibchanges.html">Adding to the Stdlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="langchanges.html">Changing the Python Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="experts.html">Experts Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="gdb.html">gdb Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="exploring.html">Exploring CPython’s Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="grammar.html">Changing CPython’s Grammar</a></li>
<li class="toctree-l1"><a class="reference internal" href="parser.html">Guide to CPython’s Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler.html">Design of CPython’s Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="garbage_collector.html">Design of CPython’s Garbage Collector</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Updating standard library extension modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="c-api.html">Changing Python’s C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="coverity.html">Coverity Scan</a></li>
<li class="toctree-l1"><a class="reference internal" href="clang.html">Dynamic Analysis with Clang</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildworker.html">Running a buildbot worker</a></li>
<li class="toctree-l1"><a class="reference internal" href="motivations.html">Core Developer Motivations and Affiliations</a></li>
<li class="toctree-l1"><a class="reference internal" href="gitbootcamp.html">Git Bootcamp and Cheat Sheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix: Topics</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="documenting-python">
<span id="documenting"></span><h1>Documenting Python<a class="headerlink" href="#documenting-python" title="永久链接至标题">¶</a></h1>
<p>The Python language has a substantial body of documentation, much of it
contributed by various authors. The markup used for the Python documentation is
<a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a>, developed by the <a class="reference external" href="http://docutils.sourceforge.net/">docutils</a> project, amended by custom
directives and using a toolset named <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a> to post-process the HTML output.</p>
<p>This document describes the style guide for our documentation as well as the
custom reStructuredText markup introduced by Sphinx to support Python
documentation and how it should be used.</p>
<p>The documentation in HTML, PDF or EPUB format is generated from text files
written using the <a class="reference external" href="https://daobook.github.io/cpython/library/markup.html#markup" title="(在 Python v3.11)"><span class="xref std std-ref">reStructuredText format</span></a> and contained in the
<a class="reference internal" href="setup.html#setup"><span class="std std-ref">CPython Git repository</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>If you’re interested in contributing to Python’s documentation, there’s no
need to write reStructuredText if you’re not so inclined; plain text
contributions are more than welcome as well.  Send an e-mail to
<a class="reference external" href="mailto:docs%40python.org">docs<span>@</span>python<span>.</span>org</a> or open an issue on the <a class="reference external" href="https://daobook.github.io/cpython/bugs.html#reporting-bugs" title="(在 Python v3.11)"><span class="xref std std-ref">tracker</span></a>.</p>
</div>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="永久链接至标题">¶</a></h2>
<p>Python’s documentation has long been considered to be good for a free
programming language.  There are a number of reasons for this, the most
important being the early commitment of Python’s creator, Guido van Rossum, to
providing documentation on the language and its libraries, and the continuing
involvement of the user community in providing assistance for creating and
maintaining documentation.</p>
<p>The involvement of the community takes many forms, from authoring to bug reports
to just plain complaining when the documentation could be more complete or
easier to use.</p>
<p>This document is aimed at authors and potential authors of documentation for
Python.  More specifically, it is for people contributing to the standard
documentation and developing additional documents using the same tools as the
standard documents.  This guide will be less useful for authors using the Python
documentation tools for topics other than Python, and less useful still for
authors not using the tools at all.</p>
<p>If your interest is in contributing to the Python documentation, but you don’t
have the time or inclination to learn reStructuredText and the markup structures
documented here, there’s a welcoming place for you among the Python contributors
as well.  Any time you feel that you can clarify existing documentation or
provide documentation that’s missing, the existing documentation team will
gladly work with you to integrate your text, dealing with the markup for you.
Please don’t let the material in this document stand between the documentation
and your desire to help out!</p>
</section>
<section id="style-guide">
<span id="id1"></span><h2>Style guide<a class="headerlink" href="#style-guide" title="永久链接至标题">¶</a></h2>
<section id="use-of-whitespace">
<h3>Use of whitespace<a class="headerlink" href="#use-of-whitespace" title="永久链接至标题">¶</a></h3>
<p>All reST files use an indentation of 3 spaces; no tabs are allowed.  The
maximum line length is 80 characters for normal text, but tables, deeply
indented code samples and long links may extend beyond that.  Code example
bodies should use normal Python 4-space indentation.</p>
<p>Make generous use of blank lines where applicable; they help group things
together.</p>
<p>A sentence-ending period may be followed by one or two spaces; while reST
ignores the second space, it is customarily put in by some users, for example
to aid Emacs’ auto-fill mode.</p>
</section>
<section id="footnotes">
<h3>Footnotes<a class="headerlink" href="#footnotes" title="永久链接至标题">¶</a></h3>
<p>Footnotes are generally discouraged, though they may be used when they are the
best way to present specific information. When a footnote reference is added at
the end of the sentence, it should follow the sentence-ending punctuation. The
reST markup should appear something like this:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>This sentence has a footnote reference. <span class="s">[#]_</span> This is the next sentence.
</pre></div>
</div>
<p>Footnotes should be gathered at the end of a file, or if the file is very long,
at the end of a section. The docutils will automatically create backlinks to
the footnote reference.</p>
<p>Footnotes may appear in the middle of sentences where appropriate.</p>
</section>
<section id="capitalization">
<h3>Capitalization<a class="headerlink" href="#capitalization" title="永久链接至标题">¶</a></h3>
<aside class="sidebar">
<p class="sidebar-title">Sentence case</p>
<p>Sentence case is a set of capitalization rules used in English
sentences: the first word is always capitalized and other words are
only capitalized if there is a specific rule requiring it.</p>
</aside>
<p>In the Python documentation, the use of sentence case in section titles is
preferable, but consistency within a unit is more important than
following this rule.  If you add a section to a chapter where most
sections are in title case, you can either convert all titles to
sentence case or use the dominant style in the new section title.</p>
<p>Sentences that start with a word for which specific rules require
starting it with a lower case letter should be avoided.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Sections that describe a library module often have titles in the
form of “modulename — Short description of the module.”  In this
case, the description should be capitalized as a stand-alone
sentence.</p>
</div>
<p>Many special names are used in the Python documentation, including the names of
operating systems, programming languages, standards bodies, and the like. Most
of these entities are not assigned any special markup, but the preferred
spellings are given here to aid authors in maintaining the consistency of
presentation in the Python documentation.</p>
<p>Other terms and words deserve special mention as well; these conventions should
be used to ensure consistency throughout the documentation:</p>
<dl class="simple">
<dt>CPU</dt><dd><p>For “central processing unit.” Many style guides say this should be
spelled out on the first use (and if you must use it, do so!). For
the Python documentation, this abbreviation should be avoided since
there’s no reasonable way to predict which occurrence will be the
first seen by the reader. It is better to use the word “processor”
instead.</p>
</dd>
<dt>POSIX</dt><dd><p>The name assigned to a particular group of standards. This is always
uppercase.</p>
</dd>
<dt>Python</dt><dd><p>The name of our favorite programming language is always capitalized.</p>
</dd>
<dt>reST</dt><dd><p>For “reStructuredText,” an easy to read, plaintext markup syntax
used to produce Python documentation.  When spelled out, it is
always one word and both forms start with a lower case ‘r’.</p>
</dd>
<dt>Unicode</dt><dd><p>The name of a character coding system. This is always written
capitalized.</p>
</dd>
<dt>Unix</dt><dd><p>The name of the operating system developed at AT&amp;T Bell Labs in the early
1970s.</p>
</dd>
</dl>
</section>
<section id="affirmative-tone">
<h3>Affirmative Tone<a class="headerlink" href="#affirmative-tone" title="永久链接至标题">¶</a></h3>
<p>The documentation focuses on affirmatively stating what the language does and
how to use it effectively.</p>
<p>Except for certain security or segfault risks, the docs should avoid
wording along the lines of “feature x is dangerous” or “experts only”.  These
kinds of value judgments belong in external blogs and wikis, not in the core
documentation.</p>
<p>Bad example (creating worry in the mind of a reader):</p>
<blockquote>
<div><p>Warning: failing to explicitly close a file could result in lost data or
excessive resource consumption.  Never rely on reference counting to
automatically close a file.</p>
</div></blockquote>
<p>Good example (establishing confident knowledge in the effective use of the
language):</p>
<blockquote>
<div><p>A best practice for using files is use a try/finally pair to explicitly
close a file after it is used.  Alternatively, using a with-statement can
achieve the same effect.  This assures that files are flushed and file
descriptor resources are released in a timely manner.</p>
</div></blockquote>
</section>
<section id="economy-of-expression">
<h3>Economy of Expression<a class="headerlink" href="#economy-of-expression" title="永久链接至标题">¶</a></h3>
<p>More documentation is not necessarily better documentation.  Err on the side
of being succinct.</p>
<p>It is an unfortunate fact that making documentation longer can be an impediment
to understanding and can result in even more ways to misread or misinterpret the
text.  Long descriptions full of corner cases and caveats can create the
impression that a function is more complex or harder to use than it actually is.</p>
</section>
<section id="security-considerations-and-other-concerns">
<h3>Security Considerations (and Other Concerns)<a class="headerlink" href="#security-considerations-and-other-concerns" title="永久链接至标题">¶</a></h3>
<p>Some modules provided with Python are inherently exposed to security issues
(e.g. shell injection vulnerabilities) due to the purpose of the module
(e.g. <a class="reference external" href="https://daobook.github.io/cpython/library/ssl.html#module-ssl" title="(在 Python v3.11)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code></a>).  Littering the documentation of these modules with red
warning boxes for problems that are due to the task at hand, rather than
specifically to Python’s support for that task, doesn’t make for a good
reading experience.</p>
<p>Instead, these security concerns should be gathered into a dedicated
“Security Considerations” section within the module’s documentation, and
cross-referenced from the documentation of affected interfaces with a note
similar to <code class="docutils literal notranslate"><span class="pre">"Please</span> <span class="pre">refer</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">:ref:`security-considerations`</span> <span class="pre">section</span>
<span class="pre">for</span> <span class="pre">important</span> <span class="pre">information</span> <span class="pre">on</span> <span class="pre">how</span> <span class="pre">to</span> <span class="pre">avoid</span> <span class="pre">common</span> <span class="pre">mistakes."</span></code>.</p>
<p>Similarly, if there is a common error that affects many interfaces in a
module (e.g. OS level pipe buffers filling up and stalling child processes),
these can be documented in a “Common Errors” section and cross-referenced
rather than repeated for every affected interface.</p>
</section>
<section id="code-examples">
<h3>Code Examples<a class="headerlink" href="#code-examples" title="永久链接至标题">¶</a></h3>
<p>Short code examples can be a useful adjunct to understanding.  Readers can often
grasp a simple example more quickly than they can digest a formal description in
prose.</p>
<p>People learn faster with concrete, motivating examples that match the context of
a typical use case.  For instance, the <a class="reference external" href="https://daobook.github.io/cpython/library/stdtypes.html#str.rpartition" title="(在 Python v3.11)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.rpartition()</span></code></a> method is better
demonstrated with an example splitting the domain from a URL than it would be
with an example of removing the last word from a line of Monty Python dialog.</p>
<p>The ellipsis for the <a class="reference external" href="https://daobook.github.io/cpython/library/sys.html#sys.ps2" title="(在 Python v3.11)"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.ps2</span></code></a> secondary interpreter prompt should only
be used sparingly, where it is necessary to clearly differentiate between input
lines and output lines.  Besides contributing visual clutter, it makes it
difficult for readers to cut-and-paste examples so they can experiment with
variations.</p>
</section>
<section id="code-equivalents">
<h3>Code Equivalents<a class="headerlink" href="#code-equivalents" title="永久链接至标题">¶</a></h3>
<p>Giving pure Python code equivalents (or approximate equivalents) can be a useful
adjunct to a prose description.  A documenter should carefully weigh whether the
code equivalent adds value.</p>
<p>A good example is the code equivalent for <a class="reference external" href="https://daobook.github.io/cpython/library/functions.html#all" title="(在 Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">all()</span></code></a>.  The short 4-line code
equivalent is easily digested; it re-emphasizes the early-out behavior; and it
clarifies the handling of the corner-case where the iterable is empty.  In
addition, it serves as a model for people wanting to implement a commonly
requested alternative where <a class="reference external" href="https://daobook.github.io/cpython/library/functions.html#all" title="(在 Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">all()</span></code></a> would return the specific object
evaluating to False whenever the function terminates early.</p>
<p>A more questionable example is the code for <a class="reference external" href="https://daobook.github.io/cpython/library/itertools.html#itertools.groupby" title="(在 Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">itertools.groupby()</span></code></a>.  Its code
equivalent borders on being too complex to be a quick aid to understanding.
Despite its complexity, the code equivalent was kept because it serves as a
model to alternative implementations and because the operation of the “grouper”
is more easily shown in code than in English prose.</p>
<p>An example of when not to use a code equivalent is for the <a class="reference external" href="https://daobook.github.io/cpython/library/functions.html#oct" title="(在 Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">oct()</span></code></a> function.
The exact steps in converting a number to octal doesn’t add value for a user
trying to learn what the function does.</p>
</section>
<section id="audience">
<h3>Audience<a class="headerlink" href="#audience" title="永久链接至标题">¶</a></h3>
<p>The tone of the tutorial (and all the docs) needs to be respectful of the
reader’s intelligence.  Don’t presume that the readers are stupid.  Lay out the
relevant information, show motivating use cases, provide glossary links, and do
your best to connect-the-dots, but don’t talk down to them or waste their time.</p>
<p>The tutorial is meant for newcomers, many of whom will be using the tutorial to
evaluate the language as a whole.  The experience needs to be positive and not
leave the reader with worries that something bad will happen if they make a
misstep.  The tutorial serves as guide for intelligent and curious readers,
saving details for the how-to guides and other sources.</p>
<p>Be careful accepting requests for documentation changes from the rare but vocal
category of reader who is looking for vindication for one of their programming
errors (“I made a mistake, therefore the docs must be wrong …”).  Typically,
the documentation wasn’t consulted until after the error was made.  It is
unfortunate, but typically no documentation edit would have saved the user from
making false assumptions about the language (“I was surprised by …”).</p>
</section>
</section>
<section id="restructuredtext-primer">
<span id="rst-primer"></span><h2>reStructuredText Primer<a class="headerlink" href="#restructuredtext-primer" title="永久链接至标题">¶</a></h2>
<p>This section is a brief introduction to reStructuredText (reST) concepts and
syntax, intended to provide authors with enough information to author documents
productively.  Since reST was designed to be a simple, unobtrusive markup
language, this will not take too long.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>The authoritative <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText User
Documentation</a>.</p>
</div>
<section id="paragraphs">
<h3>Paragraphs<a class="headerlink" href="#paragraphs" title="永久链接至标题">¶</a></h3>
<p>The paragraph is the most basic block in a reST document.  Paragraphs are simply
chunks of text separated by one or more blank lines.  As in Python, indentation
is significant in reST, so all lines of the same paragraph must be left-aligned
to the same level of indentation.</p>
</section>
<section id="inline-markup">
<h3>Inline markup<a class="headerlink" href="#inline-markup" title="永久链接至标题">¶</a></h3>
<p>The standard reST inline markup is quite simple: use</p>
<ul class="simple">
<li><p>one asterisk: <code class="docutils literal notranslate"><span class="pre">*text*</span></code> for emphasis (italics),</p></li>
<li><p>two asterisks: <code class="docutils literal notranslate"><span class="pre">**text**</span></code> for strong emphasis (boldface), and</p></li>
<li><p>backquotes: <code class="docutils literal notranslate"><span class="pre">``text``</span></code> for code samples.</p></li>
</ul>
<p>If asterisks or backquotes appear in running text and could be confused with
inline markup delimiters, they have to be escaped with a backslash.</p>
<p>Be aware of some restrictions of this markup:</p>
<ul class="simple">
<li><p>it may not be nested,</p></li>
<li><p>content may not start or end with whitespace: <code class="docutils literal notranslate"><span class="pre">*</span> <span class="pre">text*</span></code> is wrong,</p></li>
<li><p>it must be separated from surrounding text by non-word characters.  Use a
backslash escaped space to work around that: <code class="docutils literal notranslate"><span class="pre">thisis\</span> <span class="pre">*one*\</span> <span class="pre">word</span></code>.</p></li>
</ul>
<p>These restrictions may be lifted in future versions of the docutils.</p>
<p>reST also allows for custom “interpreted text roles”’, which signify that the
enclosed text should be interpreted in a specific way.  Sphinx uses this to
provide semantic markup and cross-referencing of identifiers, as described in
the appropriate section.  The general syntax is <code class="docutils literal notranslate"><span class="pre">:rolename:`content`</span></code>.</p>
</section>
<section id="lists-and-quotes">
<h3>Lists and Quotes<a class="headerlink" href="#lists-and-quotes" title="永久链接至标题">¶</a></h3>
<p>List markup is natural: just place an asterisk at the start of a paragraph and
indent properly.  The same goes for numbered lists; they can also be
automatically numbered using a <code class="docutils literal notranslate"><span class="pre">#</span></code> sign:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="m">*</span> This is a bulleted list.
<span class="m">*</span> It has two items, the second
  item uses two lines.

<span class="m">1.</span> This is a numbered list.
<span class="m">2.</span> It has two items too.

<span class="m">#.</span> This is a numbered list.
<span class="m">#.</span> It has two items too.
</pre></div>
</div>
<p>Nested lists are possible, but be aware that they must be separated from the
parent list items by blank lines:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="m">*</span> this is
<span class="m">*</span> a list

  <span class="m">*</span> with a nested list
  <span class="m">*</span> and some subitems

<span class="m">*</span> and here the parent list continues
</pre></div>
</div>
<p>Definition lists are created as follows:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>term (up to a line of text)
   Definition of the term, which must be indented

   and can even consist of multiple paragraphs

next term
   Description.
</pre></div>
</div>
<p>Paragraphs are quoted by just indenting them more than the surrounding
paragraphs.</p>
</section>
<section id="source-code">
<h3>Source Code<a class="headerlink" href="#source-code" title="永久链接至标题">¶</a></h3>
<p>Literal code blocks are introduced by ending a paragraph with the special marker
<code class="docutils literal notranslate"><span class="pre">::</span></code>.  The literal block must be indented:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>This is a normal text paragraph. The next paragraph is a code sample<span class="se">::</span>

<span class="s">   It is not processed in any way, except</span>
<span class="s">   that the indentation is removed.</span>

<span class="s">   It can span multiple lines.</span>

This is a normal text paragraph again.
</pre></div>
</div>
<p>The handling of the <code class="docutils literal notranslate"><span class="pre">::</span></code> marker is smart:</p>
<ul class="simple">
<li><p>If it occurs as a paragraph of its own, that paragraph is completely left
out of the document.</p></li>
<li><p>If it is preceded by whitespace, the marker is removed.</p></li>
<li><p>If it is preceded by non-whitespace, the marker is replaced by a single
colon.</p></li>
</ul>
<p>That way, the second sentence in the above example’s first paragraph would be
rendered as “The next paragraph is a code sample:”.</p>
</section>
<section id="hyperlinks">
<h3>Hyperlinks<a class="headerlink" href="#hyperlinks" title="永久链接至标题">¶</a></h3>
<section id="external-links">
<h4>External links<a class="headerlink" href="#external-links" title="永久链接至标题">¶</a></h4>
<p>Use <code class="docutils literal notranslate"><span class="pre">`Link</span> <span class="pre">text</span> <span class="pre">&lt;http://target&gt;`_</span></code> for inline web links.  If the link text
should be the web address, you don’t need special markup at all, the parser
finds links and mail addresses in ordinary text.</p>
</section>
<section id="internal-links">
<h4>Internal links<a class="headerlink" href="#internal-links" title="永久链接至标题">¶</a></h4>
<p>Internal linking is done via a special reST role, see the section on specific
markup, <a class="reference internal" href="#doc-ref-role"><span class="std std-ref">Cross-linking markup</span></a>.</p>
</section>
</section>
<section id="sections">
<h3>Sections<a class="headerlink" href="#sections" title="永久链接至标题">¶</a></h3>
<p>Section headers are created by underlining (and optionally overlining) the
section title with a punctuation character, at least as long as the text:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="gh">=================</span>
<span class="gh">This is a heading</span>
<span class="gh">=================</span>
</pre></div>
</div>
<p>Normally, there are no heading levels assigned to certain characters as the
structure is determined from the succession of headings.  However, for the
Python documentation, here is a suggested convention:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">#</span></code> with overline, for parts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code> with overline, for chapters</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=</span></code>, for sections</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code>, for subsections</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^</span></code>, for subsubsections</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"</span></code>, for paragraphs</p></li>
</ul>
</section>
<section id="explicit-markup">
<h3>Explicit Markup<a class="headerlink" href="#explicit-markup" title="永久链接至标题">¶</a></h3>
<p>“Explicit markup” is used in reST for most constructs that need special
handling, such as footnotes, specially-highlighted paragraphs, comments, and
generic directives.</p>
<p>An explicit markup block begins with a line starting with <code class="docutils literal notranslate"><span class="pre">..</span></code> followed by
whitespace and is terminated by the next paragraph at the same level of
indentation.  (There needs to be a blank line between explicit markup and normal
paragraphs.  This may all sound a bit complicated, but it is intuitive enough
when you write it.)</p>
</section>
<section id="directives">
<h3>Directives<a class="headerlink" href="#directives" title="永久链接至标题">¶</a></h3>
<p>A directive is a generic block of explicit markup.  Besides roles, it is one of
the extension mechanisms of reST, and Sphinx makes heavy use of it.</p>
<p>Basically, a directive consists of a name, arguments, options and content. (Keep
this terminology in mind, it is used in the next chapter describing custom
directives.)  Looking at this example,</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">function</span><span class="p">::</span> foo(x)
              foo(y, z)
   <span class="nc">:bar:</span> no

   Return a line of text input from the user.
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">function</span></code> is the directive name.  It is given two arguments here, the
remainder of the first line and the second line, as well as one option <code class="docutils literal notranslate"><span class="pre">bar</span></code>
(as you can see, options are given in the lines immediately following the
arguments and indicated by the colons).</p>
<p>The directive content follows after a blank line and is indented relative to the
directive start.</p>
</section>
<section id="id2">
<h3>Footnotes<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h3>
<p>For footnotes, use <code class="docutils literal notranslate"><span class="pre">[#]_</span></code> to mark the footnote location, and add the footnote
body at the bottom of the document after a “Footnotes” rubric heading, like so:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>Lorem ipsum <span class="s">[#]_</span> dolor sit amet ... <span class="s">[#]_</span>

<span class="p">..</span> <span class="ow">rubric</span><span class="p">::</span> Footnotes

<span class="p">..</span> <span class="nt">[#]</span> Text of the first footnote.
<span class="p">..</span> <span class="nt">[#]</span> Text of the second footnote.
</pre></div>
</div>
<p>You can also explicitly number the footnotes for better context.</p>
</section>
<section id="comments">
<h3>Comments<a class="headerlink" href="#comments" title="永久链接至标题">¶</a></h3>
<p>Every explicit markup block which isn’t a valid markup construct (like the
footnotes above) is regarded as a comment.</p>
</section>
<section id="source-encoding">
<h3>Source encoding<a class="headerlink" href="#source-encoding" title="永久链接至标题">¶</a></h3>
<p>Since the easiest way to include special characters like em dashes or copyright
signs in reST is to directly write them as Unicode characters, one has to
specify an encoding:</p>
<p>All Python documentation source files must be in UTF-8 encoding, and the HTML
documents written from them will be in that encoding as well.</p>
</section>
<section id="gotchas">
<h3>Gotchas<a class="headerlink" href="#gotchas" title="永久链接至标题">¶</a></h3>
<p>There are some problems one commonly runs into while authoring reST documents:</p>
<ul class="simple">
<li><p><strong>Separation of inline markup:</strong> As said above, inline markup spans must be
separated from the surrounding text by non-word characters, you have to use
an escaped space to get around that.</p></li>
</ul>
</section>
</section>
<section id="additional-markup-constructs">
<h2>Additional Markup Constructs<a class="headerlink" href="#additional-markup-constructs" title="永久链接至标题">¶</a></h2>
<p>Sphinx adds a lot of new directives and interpreted text roles to standard reST
markup.  This section contains the reference material for these facilities.
Documentation for “standard” reST constructs is not included here, though
they are used in the Python documentation.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This is just an overview of Sphinx’ extended markup capabilities; full
coverage can be found in <a class="reference external" href="http://sphinx-doc.org/">its own documentation</a>.</p>
</div>
<section id="meta-information-markup">
<h3>Meta-information markup<a class="headerlink" href="#meta-information-markup" title="永久链接至标题">¶</a></h3>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">sectionauthor</span></span></dt>
<dd><p>Identifies the author of the current section.  The argument should include
the author’s name such that it can be used for presentation (though it isn’t)
and email address.  The domain name portion of the address should be lower
case.  Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">sectionauthor</span><span class="p">::</span> Guido van Rossum &lt;guido@python.org&gt;
</pre></div>
</div>
<p>Currently, this markup isn’t reflected in the output in any way, but it helps
keep track of contributions.</p>
</dd></dl>
</section>
<section id="module-specific-markup">
<h3>Module-specific markup<a class="headerlink" href="#module-specific-markup" title="永久链接至标题">¶</a></h3>
<p>The markup described in this section is used to provide information about a
module being documented.  Each module should be documented in its own file.
Normally this markup appears after the title heading of that file; a typical
file might start like this:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="gh">:mod:`parrot` -- Dead parrot access</span>
<span class="gh">===================================</span>

<span class="p">..</span> <span class="ow">module</span><span class="p">::</span> parrot
   <span class="nc">:platform:</span> Unix, Windows
   <span class="nc">:synopsis:</span> Analyze and reanimate dead parrots.
<span class="p">..</span> <span class="ow">moduleauthor</span><span class="p">::</span> Eric Cleese &lt;eric@python.invalid&gt;
<span class="p">..</span> <span class="ow">moduleauthor</span><span class="p">::</span> John Idle &lt;john@python.invalid&gt;
</pre></div>
</div>
<p>As you can see, the module-specific markup consists of two directives, the
<code class="docutils literal notranslate"><span class="pre">module</span></code> directive and the <code class="docutils literal notranslate"><span class="pre">moduleauthor</span></code> directive.</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">module</span></span></dt>
<dd><p>This directive marks the beginning of the description of a module, package,
or submodule. The name should be fully qualified (i.e. including the
package name for submodules).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">platform</span></code> option, if present, is a comma-separated list of the
platforms on which the module is available (if it is available on all
platforms, the option should be omitted).  The keys are short identifiers;
examples that are in use include “IRIX”, “Mac”, “Windows”, and “Unix”.  It is
important to use a key which has already been used when applicable.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">synopsis</span></code> option should consist of one sentence describing the
module’s purpose – it is currently only used in the Global Module Index.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">deprecated</span></code> option can be given (with no value) to mark a module as
deprecated; it will be designated as such in various locations then.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">moduleauthor</span></span></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">moduleauthor</span></code> directive, which can appear multiple times, names the
authors of the module code, just like <code class="docutils literal notranslate"><span class="pre">sectionauthor</span></code> names the author(s)
of a piece of documentation.  It too does not result in any output currently.</p>
</dd></dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>It is important to make the section title of a module-describing file
meaningful since that value will be inserted in the table-of-contents trees
in overview files.</p>
</div>
</section>
<section id="information-units">
<h3>Information units<a class="headerlink" href="#information-units" title="永久链接至标题">¶</a></h3>
<p>There are a number of directives used to describe specific features provided by
modules.  Each directive requires one or more signatures to provide basic
information about what is being described, and the content should be the
description.  The basic version makes entries in the general index; if no index
entry is desired, you can give the directive option flag <code class="docutils literal notranslate"><span class="pre">:noindex:</span></code>.  The
following example shows all of the features of this directive type:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">function</span><span class="p">::</span> spam(eggs)
              ham(eggs)
   <span class="nc">:noindex:</span>

   Spam or ham the foo.
</pre></div>
</div>
<p>The signatures of object methods or data attributes should not include the
class name, but be nested in a class directive.  The generated files will
reflect this nesting, and the target identifiers (for HTML output) will use
both the class and method name, to enable consistent cross-references.  If you
describe methods belonging to an abstract protocol such as context managers,
use a class directive with a (pseudo-)type name too to make the
index entries more informative.</p>
<p>The directives are:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">c:function</span></span></dt>
<dd><p>Describes a C function. The signature should be given as in C, e.g.:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">c:function</span><span class="p">::</span> PyObject<span class="ge">* PyType_GenericAlloc(PyTypeObject *</span>type, Py_ssize_t nitems)
</pre></div>
</div>
<p>This is also used to describe function-like preprocessor macros.  The names
of the arguments should be given so they may be used in the description.</p>
<p>Note that you don’t have to backslash-escape asterisks in the signature,
as it is not parsed by the reST inliner.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">c:member</span></span></dt>
<dd><p>Describes a C struct member. Example signature:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">c:member</span><span class="p">::</span> PyObject* PyTypeObject.tp_bases
</pre></div>
</div>
<p>The text of the description should include the range of values allowed, how
the value should be interpreted, and whether the value can be changed.
References to structure members in text should use the <code class="docutils literal notranslate"><span class="pre">member</span></code> role.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">c:macro</span></span></dt>
<dd><p>Describes a “simple” C macro.  Simple macros are macros which are used
for code expansion, but which do not take arguments so cannot be described as
functions.  This is not to be used for simple constant definitions.  Examples
of its use in the Python documentation include <a class="reference external" href="https://daobook.github.io/cpython/c-api/structures.html#c.PyObject_HEAD" title="(在 Python v3.11)"><code class="xref c c-macro docutils literal notranslate"><span class="pre">PyObject_HEAD</span></code></a> and
<a class="reference external" href="https://daobook.github.io/cpython/c-api/init.html#c.Py_BEGIN_ALLOW_THREADS" title="(在 Python v3.11)"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_BEGIN_ALLOW_THREADS</span></code></a>.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">c:type</span></span></dt>
<dd><p>Describes a C type. The signature should just be the type name.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">c:var</span></span></dt>
<dd><p>Describes a global C variable.  The signature should include the type, such
as:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">c:var</span><span class="p">::</span> PyObject* PyClass_Type
</pre></div>
</div>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">data</span></span></dt>
<dd><p>Describes global data in a module, including both variables and values used
as “defined constants.”  Class and object attributes are not documented
using this directive.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">exception</span></span></dt>
<dd><p>Describes an exception class.  The signature can, but need not include
parentheses with constructor arguments.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">function</span></span></dt>
<dd><p>Describes a module-level function.  The signature should include the
parameters, enclosing optional parameters in brackets.  Default values can be
given if it enhances clarity.  For example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">function</span><span class="p">::</span> repeat([repeat=3[, number=1000000]])
</pre></div>
</div>
<p>Object methods are not documented using this directive. Bound object methods
placed in the module namespace as part of the public interface of the module
are documented using this, as they are equivalent to normal functions for
most purposes.</p>
<p>The description should include information about the parameters required and
how they are used (especially whether mutable objects passed as parameters
are modified), side effects, and possible exceptions.  A small example may be
provided.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">coroutinefunction</span></span></dt>
<dd><p>Describes a module-level coroutine.  The description should include similar
information to that described for <code class="docutils literal notranslate"><span class="pre">function</span></code>.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">decorator</span></span></dt>
<dd><p>Describes a decorator function.  The signature should <em>not</em> represent the
signature of the actual function, but the usage as a decorator.  For example,
given the functions</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">removename</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="s1">''</span>
    <span class="k">return</span> <span class="n">func</span>

<span class="k">def</span> <span class="nf">setnewname</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">return</span> <span class="n">func</span>
    <span class="k">return</span> <span class="n">decorator</span>
</pre></div>
</div>
<p>the descriptions should look like this:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">decorator</span><span class="p">::</span> removename

   Remove name of the decorated function.

<span class="p">..</span> <span class="ow">decorator</span><span class="p">::</span> setnewname(name)

   Set name of the decorated function to <span class="ge">*name*</span>.
</pre></div>
</div>
<p>There is no <code class="docutils literal notranslate"><span class="pre">deco</span></code> role to link to a decorator that is marked up with
this directive; rather, use the <code class="docutils literal notranslate"><span class="pre">:func:</span></code> role.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">class</span></span></dt>
<dd><p>Describes a class.  The signature can include parentheses with parameters
which will be shown as the constructor arguments.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">attribute</span></span></dt>
<dd><p>Describes an object data attribute.  The description should include
information about the type of the data to be expected and whether it may be
changed directly.  This directive should be nested in a class directive,
like in this example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">class</span><span class="p">::</span> Spam

   Description of the class.

<span class="p">   ..</span> <span class="ow">attribute</span><span class="p">::</span> ham

      Description of the attribute.
</pre></div>
</div>
<p>If is also possible to document an attribute outside of a class directive,
for example if the documentation for different attributes and methods is
split in multiple sections.  The class name should then be included
explicitly:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">attribute</span><span class="p">::</span> Spam.eggs
</pre></div>
</div>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">method</span></span></dt>
<dd><p>Describes an object method.  The parameters should not include the <code class="docutils literal notranslate"><span class="pre">self</span></code>
parameter.  The description should include similar information to that
described for <code class="docutils literal notranslate"><span class="pre">function</span></code>.  This directive should be nested in a class
directive, like in the example above.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">coroutinemethod</span></span></dt>
<dd><p>Describes an object coroutine method.  The parameters should not include the
<code class="docutils literal notranslate"><span class="pre">self</span></code> parameter.  The description should include similar information to
that described for <code class="docutils literal notranslate"><span class="pre">function</span></code>.  This directive should be nested in a
<code class="docutils literal notranslate"><span class="pre">class</span></code> directive.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">decoratormethod</span></span></dt>
<dd><p>Same as <code class="docutils literal notranslate"><span class="pre">decorator</span></code>, but for decorators that are methods.</p>
<p>Refer to a decorator method using the <code class="docutils literal notranslate"><span class="pre">:meth:</span></code> role.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">staticmethod</span></span></dt>
<dd><p>Describes an object static method.  The description should include similar
information to that described for <code class="docutils literal notranslate"><span class="pre">function</span></code>.  This directive should be
nested in a <code class="docutils literal notranslate"><span class="pre">class</span></code> directive.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">classmethod</span></span></dt>
<dd><p>Describes an object class method.  The parameters should not include the
<code class="docutils literal notranslate"><span class="pre">cls</span></code> parameter.  The description should include similar information to
that described for <code class="docutils literal notranslate"><span class="pre">function</span></code>.  This directive should be nested in a
<code class="docutils literal notranslate"><span class="pre">class</span></code> directive.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">abstractmethod</span></span></dt>
<dd><p>Describes an object abstract method.  The description should include similar
information to that described for <code class="docutils literal notranslate"><span class="pre">function</span></code>.  This directive should be
nested in a <code class="docutils literal notranslate"><span class="pre">class</span></code> directive.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">opcode</span></span></dt>
<dd><p>Describes a Python <a class="reference external" href="https://daobook.github.io/cpython/glossary.html#term-bytecode" title="(在 Python v3.11)"><span class="xref std std-term">bytecode</span></a> instruction.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">cmdoption</span></span></dt>
<dd><p>Describes a Python command line option or switch.  Option argument names
should be enclosed in angle brackets.  Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">cmdoption</span><span class="p">::</span> -m &lt;module&gt;

   Run a module as a script.
</pre></div>
</div>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">envvar</span></span></dt>
<dd><p>Describes an environment variable that Python uses or defines.</p>
</dd></dl>
<p>There is also a generic version of these directives:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">describe</span></span></dt>
<dd><p>This directive produces the same formatting as the specific ones explained
above but does not create index entries or cross-referencing targets.  It is
used, for example, to describe the directives in this document. Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">describe</span><span class="p">::</span> opcode

   Describes a Python bytecode instruction.
</pre></div>
</div>
</dd></dl>
</section>
<section id="showing-code-examples">
<h3>Showing code examples<a class="headerlink" href="#showing-code-examples" title="永久链接至标题">¶</a></h3>
<p>Examples of Python source code or interactive sessions are represented using
standard reST literal blocks.  They are started by a <code class="docutils literal notranslate"><span class="pre">::</span></code> at the end of the
preceding paragraph and delimited by indentation.</p>
<p>Representing an interactive session requires including the prompts and output
along with the Python code.  No special markup is required for interactive
sessions.  After the last line of input or output presented, there should not be
an “unused” primary prompt; this is an example of what <em>not</em> to do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
<span class="go">2</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Syntax highlighting is handled in a smart way:</p>
<ul>
<li><p>There is a “highlighting language” for each source file.  By default,
this is <code class="docutils literal notranslate"><span class="pre">'python'</span></code> as the majority of files will have to highlight Python
snippets.</p></li>
<li><p>Within Python highlighting mode, interactive sessions are recognized
automatically and highlighted appropriately.</p></li>
<li><p>The highlighting language can be changed using the <code class="docutils literal notranslate"><span class="pre">highlight</span></code>
directive, used as follows:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">highlight</span><span class="p">::</span> c
</pre></div>
</div>
<p>This language is used until the next <code class="docutils literal notranslate"><span class="pre">highlight</span></code> directive is
encountered.</p>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">code-block</span></code> directive can be used to specify the highlight language
of a single code block, e.g.:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">c</span>

   <span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

   <span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
   <span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">"Hello world!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span><span class="w"></span>
   <span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>The values normally used for the highlighting language are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">python</span></code> (the default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rest</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code> (no highlighting)</p></li>
</ul>
</li>
<li><p>If highlighting with the current language fails, the block is not highlighted
in any way.</p></li>
</ul>
<p>Longer displays of verbatim text may be included by storing the example text in
an external file containing only plain text.  The file may be included using the
<code class="docutils literal notranslate"><span class="pre">literalinclude</span></code> directive. <a class="footnote-reference brackets" href="#id5" id="id3">1</a> For example, to include the Python source
file <code class="file docutils literal notranslate"><span class="pre">example.py</span></code>, use:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> example.py
</pre></div>
</div>
<p>The file name is relative to the current file’s path.  Documentation-specific
include files should be placed in the <code class="docutils literal notranslate"><span class="pre">Doc/includes</span></code> subdirectory.</p>
</section>
<section id="rest-inline-markup">
<span id="id4"></span><h3>Inline markup<a class="headerlink" href="#rest-inline-markup" title="永久链接至标题">¶</a></h3>
<p>As said before, Sphinx uses interpreted text roles to insert semantic markup in
documents.</p>
<p>Names of local variables, such as function/method arguments, are an exception,
they should be marked simply with <code class="docutils literal notranslate"><span class="pre">*var*</span></code>.</p>
<p>For all other roles, you have to write <code class="docutils literal notranslate"><span class="pre">:rolename:`content`</span></code>.</p>
<p>There are some additional facilities that make cross-referencing roles more
versatile:</p>
<ul>
<li><p>You may supply an explicit title and reference target, like in reST direct
hyperlinks: <code class="docutils literal notranslate"><span class="pre">:role:`title</span> <span class="pre">&lt;target&gt;`</span></code> will refer to <em>target</em>, but the link
text will be <em>title</em>.</p></li>
<li><p>If you prefix the content with <code class="docutils literal notranslate"><span class="pre">!</span></code>, no reference/hyperlink will be created.</p></li>
<li><p>For the Python object roles, if you prefix the content with <code class="docutils literal notranslate"><span class="pre">~</span></code>, the link
text will only be the last component of the target.  For example,
<code class="docutils literal notranslate"><span class="pre">:meth:`~Queue.Queue.get`</span></code> will refer to <code class="docutils literal notranslate"><span class="pre">Queue.Queue.get</span></code> but only
display <code class="docutils literal notranslate"><span class="pre">get</span></code> as the link text.</p>
<p>In HTML output, the link’s <code class="docutils literal notranslate"><span class="pre">title</span></code> attribute (that is e.g. shown as a
tool-tip on mouse-hover) will always be the full target name.</p>
</li>
</ul>
<p>The following roles refer to objects in modules and are possibly hyperlinked if
a matching identifier is found:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">mod</span></span></dt>
<dd><p>The name of a module; a dotted name may be used.  This should also be used
for package names.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">func</span></span></dt>
<dd><p>The name of a Python function; dotted names may be used.  The role text
should not include trailing parentheses to enhance readability.  The
parentheses are stripped when searching for identifiers.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">data</span></span></dt>
<dd><p>The name of a module-level variable or constant.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">const</span></span></dt>
<dd><p>The name of a “defined” constant.  This may be a C-language <code class="docutils literal notranslate"><span class="pre">#define</span></code>
or a Python variable that is not intended to be changed.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">class</span></span></dt>
<dd><p>A class name; a dotted name may be used.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">meth</span></span></dt>
<dd><p>The name of a method of an object.  The role text should include the type
name and the method name.  A dotted name may be used.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">attr</span></span></dt>
<dd><p>The name of a data attribute of an object.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">exc</span></span></dt>
<dd><p>The name of an exception. A dotted name may be used.</p>
</dd></dl>
<p>The name enclosed in this markup can include a module name and/or a class name.
For example, <code class="docutils literal notranslate"><span class="pre">:func:`filter`</span></code> could refer to a function named <code class="docutils literal notranslate"><span class="pre">filter</span></code> in
the current module, or the built-in function of that name.  In contrast,
<code class="docutils literal notranslate"><span class="pre">:func:`foo.filter`</span></code> clearly refers to the <code class="docutils literal notranslate"><span class="pre">filter</span></code> function in the <code class="docutils literal notranslate"><span class="pre">foo</span></code>
module.</p>
<p>Normally, names in these roles are searched first without any further
qualification, then with the current module name prepended, then with the
current module and class name (if any) prepended.  If you prefix the name with a
dot, this order is reversed.  For example, in the documentation of the
<a class="reference external" href="https://daobook.github.io/cpython/library/codecs.html#module-codecs" title="(在 Python v3.11)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">codecs</span></code></a> module, <code class="docutils literal notranslate"><span class="pre">:func:`open`</span></code> always refers to the built-in function,
while <code class="docutils literal notranslate"><span class="pre">:func:`.open`</span></code> refers to <a class="reference external" href="https://daobook.github.io/cpython/library/codecs.html#codecs.open" title="(在 Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">codecs.open()</span></code></a>.</p>
<p>A similar heuristic is used to determine whether the name is an attribute of
the currently documented class.</p>
<hr class="docutils"/>
<p>The following roles create cross-references to C-language constructs if they
are defined in the API documentation:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">c:data</span></span></dt>
<dd><p>The name of a C-language variable.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">c:func</span></span></dt>
<dd><p>The name of a C-language function. Should include trailing parentheses.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">c:macro</span></span></dt>
<dd><p>The name of a “simple” C macro, as defined above.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">c:type</span></span></dt>
<dd><p>The name of a C-language type.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">c:member</span></span></dt>
<dd><p>The name of a C type member, as defined above.</p>
</dd></dl>
<hr class="docutils"/>
<p>The following roles do not refer to objects, but can create cross-references or
internal links:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">envvar</span></span></dt>
<dd><p>An environment variable.  Index entries are generated.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">keyword</span></span></dt>
<dd><p>The name of a Python keyword.  Using this role will generate a link to the
documentation of the keyword.  <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">False</span></code> and <code class="docutils literal notranslate"><span class="pre">None</span></code> do not use
this role, but simple code markup (<code class="docutils literal notranslate"><span class="pre">``True``</span></code>), given that they’re
fundamental to the language and should be known to any programmer.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">option</span></span></dt>
<dd><p>A command-line option of Python.  The leading hyphen(s) must be included.
If a matching <code class="docutils literal notranslate"><span class="pre">cmdoption</span></code> directive exists, it is linked to.  For options
of other programs or scripts, use simple <code class="docutils literal notranslate"><span class="pre">``code``</span></code> markup.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">token</span></span></dt>
<dd><p>The name of a grammar token (used in the reference manual to create links
between production displays).</p>
</dd></dl>
<hr class="docutils"/>
<p>The following role creates a cross-reference to the term in the glossary:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">term</span></span></dt>
<dd><p>Reference to a term in the glossary.  The glossary is created using the
<code class="docutils literal notranslate"><span class="pre">glossary</span></code> directive containing a definition list with terms and
definitions.  It does not have to be in the same file as the <code class="docutils literal notranslate"><span class="pre">term</span></code>
markup, in fact, by default the Python docs have one global glossary
in the <code class="docutils literal notranslate"><span class="pre">glossary.rst</span></code> file.</p>
<p>If you use a term that’s not explained in a glossary, you’ll get a warning
during build.</p>
</dd></dl>
<hr class="docutils"/>
<p>The following roles don’t do anything special except formatting the text
in a different style:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">command</span></span></dt>
<dd><p>The name of an OS-level command, such as <code class="docutils literal notranslate"><span class="pre">rm</span></code>.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">dfn</span></span></dt>
<dd><p>Mark the defining instance of a term in the text.  (No index entries are
generated.)</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">file</span></span></dt>
<dd><p>The name of a file or directory.  Within the contents, you can use curly
braces to indicate a “variable” part, for example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="s">``spam``</span> is installed in <span class="na">:file:</span><span class="nv">`/usr/lib/python2.{x}/site-packages`</span> ...
</pre></div>
</div>
<p>In the built documentation, the <code class="docutils literal notranslate"><span class="pre">x</span></code> will be displayed differently to
indicate that it is to be replaced by the Python minor version.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">guilabel</span></span></dt>
<dd><p>Labels presented as part of an interactive user interface should be marked
using <code class="docutils literal notranslate"><span class="pre">guilabel</span></code>.  This includes labels from text-based interfaces such as
those created using <a class="reference external" href="https://daobook.github.io/cpython/library/curses.html#module-curses" title="(在 Python v3.11)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">curses</span></code></a> or other text-based libraries.  Any label
used in the interface should be marked with this role, including button
labels, window titles, field names, menu and menu selection names, and even
values in selection lists.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">kbd</span></span></dt>
<dd><p>Mark a sequence of keystrokes.  What form the key sequence takes may depend
on platform- or application-specific conventions.  When there are no relevant
conventions, the names of modifier keys should be spelled out, to improve
accessibility for new users and non-native speakers.  For example, an
<em>xemacs</em> key sequence may be marked like <code class="docutils literal notranslate"><span class="pre">:kbd:`C-x</span> <span class="pre">C-f`</span></code>, but without
reference to a specific application or platform, the same sequence should be
marked as <code class="docutils literal notranslate"><span class="pre">:kbd:`Control-x</span> <span class="pre">Control-f`</span></code>.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">mailheader</span></span></dt>
<dd><p>The name of an RFC 822-style mail header.  This markup does not imply that
the header is being used in an email message, but can be used to refer to any
header of the same “style.”  This is also used for headers defined by the
various MIME specifications.  The header name should be entered in the same
way it would normally be found in practice, with the camel-casing conventions
being preferred where there is more than one common usage. For example:
<code class="docutils literal notranslate"><span class="pre">:mailheader:`Content-Type`</span></code>.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">makevar</span></span></dt>
<dd><p>The name of a <strong class="command">make</strong> variable.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">manpage</span></span></dt>
<dd><p>A reference to a Unix manual page including the section,
e.g. <code class="docutils literal notranslate"><span class="pre">:manpage:`ls(1)`</span></code>.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">menuselection</span></span></dt>
<dd><p>Menu selections should be marked using the <code class="docutils literal notranslate"><span class="pre">menuselection</span></code> role.  This is
used to mark a complete sequence of menu selections, including selecting
submenus and choosing a specific operation, or any subsequence of such a
sequence.  The names of individual selections should be separated by
<code class="docutils literal notranslate"><span class="pre">--&gt;</span></code>.</p>
<p>For example, to mark the selection “Start &gt; Programs”, use this markup:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="na">:menuselection:</span><span class="nv">`Start --&gt; Programs`</span>
</pre></div>
</div>
<p>When including a selection that includes some trailing indicator, such as the
ellipsis some operating systems use to indicate that the command opens a
dialog, the indicator should be omitted from the selection name.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">mimetype</span></span></dt>
<dd><p>The name of a MIME type, or a component of a MIME type (the major or minor
portion, taken alone).</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">newsgroup</span></span></dt>
<dd><p>The name of a Usenet newsgroup.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">program</span></span></dt>
<dd><p>The name of an executable program.  This may differ from the file name for
the executable for some platforms.  In particular, the <code class="docutils literal notranslate"><span class="pre">.exe</span></code> (or other)
extension should be omitted for Windows programs.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">regexp</span></span></dt>
<dd><p>A regular expression. Quotes should not be included.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">samp</span></span></dt>
<dd><p>A piece of literal text, such as code.  Within the contents, you can use
curly braces to indicate a “variable” part, as in <code class="docutils literal notranslate"><span class="pre">:file:</span></code>.</p>
<p>If you don’t need the “variable part” indication, use the standard
<code class="docutils literal notranslate"><span class="pre">``code``</span></code> instead.</p>
</dd></dl>
<p>The following roles generate external links:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">pep</span></span></dt>
<dd><p>A reference to a Python Enhancement Proposal.  This generates appropriate
index entries. The text “PEP <em>number</em>” is generated; in the HTML output,
this text is a hyperlink to an online copy of the specified PEP. Such
hyperlinks should not be a substitute for properly documenting the
language in the manuals.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">rfc</span></span></dt>
<dd><p>A reference to an Internet Request for Comments.  This generates appropriate
index entries. The text “RFC <em>number</em>” is generated; in the HTML output,
this text is a hyperlink to an online copy of the specified RFC.</p>
</dd></dl>
<p>Note that there are no special roles for including hyperlinks as you can use
the standard reST markup for that purpose.</p>
</section>
<section id="cross-linking-markup">
<span id="doc-ref-role"></span><h3>Cross-linking markup<a class="headerlink" href="#cross-linking-markup" title="永久链接至标题">¶</a></h3>
<p>To support cross-referencing to arbitrary sections in the documentation, the
standard reST labels are “abused” a bit: Every label must precede a section
title; and every label name must be unique throughout the entire documentation
source.</p>
<p>You can then reference to these sections using the <code class="docutils literal notranslate"><span class="pre">:ref:`label-name`</span></code> role.</p>
<p>Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_my-reference-label:</span>

<span class="gh">Section to cross-reference</span>
<span class="gh">--------------------------</span>

This is the text of the section.

It refers to the section itself, see <span class="na">:ref:</span><span class="nv">`my-reference-label`</span>.
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">:ref:</span></code> invocation is replaced with the section title.</p>
<p>Alternatively, you can reference any label (not just section titles)
if you provide the link text <code class="docutils literal notranslate"><span class="pre">:ref:`link</span> <span class="pre">text</span> <span class="pre">&lt;reference-label&gt;`</span></code>.</p>
</section>
<section id="paragraph-level-markup">
<h3>Paragraph-level markup<a class="headerlink" href="#paragraph-level-markup" title="永久链接至标题">¶</a></h3>
<p>These directives create short paragraphs and can be used inside information
units as well as normal text:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">note</span></span></dt>
<dd><p>An especially important bit of information about an API that a user should be
aware of when using whatever bit of API the note pertains to.  The content of
the directive should be written in complete sentences and include all
appropriate punctuation.</p>
<p>Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">note</span><span class="p">::</span>

   This function is not suitable for sending spam e-mails.
</pre></div>
</div>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">warning</span></span></dt>
<dd><p>An important bit of information about an API that a user should be aware of
when using whatever bit of API the warning pertains to.  The content of the
directive should be written in complete sentences and include all appropriate
punctuation.  In the interest of not scaring users away from pages filled
with warnings, this directive should only be chosen over <code class="docutils literal notranslate"><span class="pre">note</span></code> for
information regarding the possibility of crashes, data loss, or security
implications.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">versionadded</span></span></dt>
<dd><p>This directive documents the version of Python which added the described
feature, or a part of it, to the library or C API.  When this applies to an
entire module, it should be placed at the top of the module section before
any prose.</p>
<p>The first argument must be given and is the version in question.  The second
argument is optional and can be used to describe the details of the feature.</p>
<p>Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">versionadded</span><span class="p">::</span> 3.5
</pre></div>
</div>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">versionchanged</span></span></dt>
<dd><p>Similar to <code class="docutils literal notranslate"><span class="pre">versionadded</span></code>, but describes when and what changed in the named
feature in some way (new parameters, changed side effects, platform support,
etc.).  This one <em>must</em> have the second argument (explanation of the change).</p>
<p>Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">versionchanged</span><span class="p">::</span> 3.1
   The <span class="ge">*spam*</span> parameter was added.
</pre></div>
</div>
<p>Note that there should be no blank line between the directive head and the
explanation; this is to make these blocks visually continuous in the markup.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">deprecated</span></span></dt>
<dd><p>Indicates the version from which the described feature is deprecated.</p>
<p>There is one required argument: the version from which the feature is
deprecated.</p>
<p>Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">deprecated</span><span class="p">::</span> 3.8
</pre></div>
</div>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">deprecated-removed</span></span></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">deprecated</span></code>, but it also indicates in which version the feature is
removed.</p>
<p>There are two required arguments: the version from which the feature is
deprecated, and the version in which the feature is removed.</p>
<p>Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">deprecated-removed</span><span class="p">::</span> 3.8 4.0
</pre></div>
</div>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">impl-detail</span></span></dt>
<dd><p>This directive is used to mark CPython-specific information.  Use either with
a block content or a single sentence as an argument, i.e. either</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">impl-detail</span><span class="p">::</span>

   This describes some implementation detail.

   More explanation.
</pre></div>
</div>
<p>or</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">impl-detail</span><span class="p">::</span> This shortly mentions an implementation detail.
</pre></div>
</div>
<p>“<strong>CPython implementation detail:</strong>” is automatically prepended to the
content.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">seealso</span></span></dt>
<dd><p>Many sections include a list of references to module documentation or
external documents.  These lists are created using the <code class="docutils literal notranslate"><span class="pre">seealso</span></code> directive.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">seealso</span></code> directive is typically placed in a section just before any
sub-sections.  For the HTML output, it is shown boxed off from the main flow
of the text.</p>
<p>The content of the <code class="docutils literal notranslate"><span class="pre">seealso</span></code> directive should be a reST definition list.
Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">seealso</span><span class="p">::</span>

   Module <span class="na">:mod:</span><span class="nv">`zipfile`</span>
      Documentation of the <span class="na">:mod:</span><span class="nv">`zipfile`</span> standard module.

   <span class="s">`GNU tar manual, Basic Tar Format </span><span class="si">&lt;http://link&gt;</span><span class="s">`_</span>
      Documentation for tar archive files, including GNU tar extensions.
</pre></div>
</div>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">rubric</span></span></dt>
<dd><p>This directive creates a paragraph heading that is not used to create a
table of contents node.  It is currently used for the “Footnotes” caption.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">centered</span></span></dt>
<dd><p>This directive creates a centered boldfaced paragraph.  Use it as follows:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">centered</span><span class="p">::</span>

   Paragraph contents.
</pre></div>
</div>
</dd></dl>
</section>
<section id="table-of-contents-markup">
<h3>Table-of-contents markup<a class="headerlink" href="#table-of-contents-markup" title="永久链接至标题">¶</a></h3>
<p>Since reST does not have facilities to interconnect several documents, or split
documents into multiple output files, Sphinx uses a custom directive to add
relations between the single files the documentation is made of, as well as
tables of contents.  The <code class="docutils literal notranslate"><span class="pre">toctree</span></code> directive is the central element.</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">toctree</span></span></dt>
<dd><p>This directive inserts a “TOC tree” at the current location, using the
individual TOCs (including “sub-TOC trees”) of the files given in the
directive body.  A numeric <code class="docutils literal notranslate"><span class="pre">maxdepth</span></code> option may be given to indicate the
depth of the tree; by default, all levels are included.</p>
<p>Consider this example (taken from the library reference index):</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> 2

   intro
   strings
   datatypes
   numeric
   (many more files listed here)
</pre></div>
</div>
<p>This accomplishes two things:</p>
<ul class="simple">
<li><p>Tables of contents from all those files are inserted, with a maximum depth
of two, that means one nested heading.  <code class="docutils literal notranslate"><span class="pre">toctree</span></code> directives in those
files are also taken into account.</p></li>
<li><p>Sphinx knows that the relative order of the files <code class="docutils literal notranslate"><span class="pre">intro</span></code>,
<code class="docutils literal notranslate"><span class="pre">strings</span></code> and so forth, and it knows that they are children of the
shown file, the library index.  From this information it generates “next
chapter”, “previous chapter” and “parent chapter” links.</p></li>
</ul>
<p>In the end, all files included in the build process must occur in one
<code class="docutils literal notranslate"><span class="pre">toctree</span></code> directive; Sphinx will emit a warning if it finds a file that is
not included, because that means that this file will not be reachable through
standard navigation.</p>
<p>The special file <code class="docutils literal notranslate"><span class="pre">contents.rst</span></code> at the root of the source directory is the
“root” of the TOC tree hierarchy; from it the “Contents” page is generated.</p>
</dd></dl>
</section>
<section id="index-generating-markup">
<h3>Index-generating markup<a class="headerlink" href="#index-generating-markup" title="永久链接至标题">¶</a></h3>
<p>Sphinx automatically creates index entries from all information units (like
functions, classes or attributes) like discussed before.</p>
<p>However, there is also an explicit directive available, to make the index more
comprehensive and enable index entries in documents where information is not
mainly contained in information units, such as the language reference.</p>
<p>The directive is <code class="docutils literal notranslate"><span class="pre">index</span></code> and contains one or more index entries.  Each entry
consists of a type and a value, separated by a colon.</p>
<p>For example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span>
   single: execution; context
   module: __main__
   module: sys
   triple: module; search; path
</pre></div>
</div>
<p>This directive contains five entries, which will be converted to entries in the
generated index which link to the exact location of the index statement (or, in
case of offline media, the corresponding page number).</p>
<p>The possible entry types are:</p>
<dl class="simple">
<dt>single</dt><dd><p>Creates a single index entry.  Can be made a subentry by separating the
subentry text with a semicolon (this notation is also used below to describe
what entries are created).</p>
</dd>
<dt>pair</dt><dd><p><code class="docutils literal notranslate"><span class="pre">pair:</span> <span class="pre">loop;</span> <span class="pre">statement</span></code> is a shortcut that creates two index entries,
namely <code class="docutils literal notranslate"><span class="pre">loop;</span> <span class="pre">statement</span></code> and <code class="docutils literal notranslate"><span class="pre">statement;</span> <span class="pre">loop</span></code>.</p>
</dd>
<dt>triple</dt><dd><p>Likewise, <code class="docutils literal notranslate"><span class="pre">triple:</span> <span class="pre">module;</span> <span class="pre">search;</span> <span class="pre">path</span></code> is a shortcut that creates three
index entries, which are <code class="docutils literal notranslate"><span class="pre">module;</span> <span class="pre">search</span> <span class="pre">path</span></code>, <code class="docutils literal notranslate"><span class="pre">search;</span> <span class="pre">path,</span> <span class="pre">module</span></code>
and <code class="docutils literal notranslate"><span class="pre">path;</span> <span class="pre">module</span> <span class="pre">search</span></code>.</p>
</dd>
<dt>module, keyword, operator, object, exception, statement, builtin</dt><dd><p>These all create two index entries.  For example, <code class="docutils literal notranslate"><span class="pre">module:</span> <span class="pre">hashlib</span></code>
creates the entries <code class="docutils literal notranslate"><span class="pre">module;</span> <span class="pre">hashlib</span></code> and <code class="docutils literal notranslate"><span class="pre">hashlib;</span> <span class="pre">module</span></code>.  The
builtin entry type is slightly different in that “built-in function” is used
in place of “builtin” when creating the two entries.</p>
</dd>
</dl>
<p>For index directives containing only “single” entries, there is a shorthand
notation:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">index</span><span class="p">::</span> BNF, grammar, syntax, notation
</pre></div>
</div>
<p>This creates four index entries.</p>
</section>
<section id="grammar-production-displays">
<h3>Grammar production displays<a class="headerlink" href="#grammar-production-displays" title="永久链接至标题">¶</a></h3>
<p>Special markup is available for displaying the productions of a formal grammar.
The markup is simple and does not attempt to model all aspects of BNF (or any
derived forms), but provides enough to allow context-free grammars to be
displayed in a way that causes uses of a symbol to be rendered as hyperlinks to
the definition of the symbol.  There is this directive:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">productionlist</span></span></dt>
<dd><p>This directive is used to enclose a group of productions.  Each production is
given on a single line and consists of a name, separated by a colon from the
following definition.  If the definition spans multiple lines, each
continuation line must begin with a colon placed at the same column as in the
first line.</p>
<p>Blank lines are not allowed within <code class="docutils literal notranslate"><span class="pre">productionlist</span></code> directive arguments.</p>
<p>The definition can contain token names which are marked as interpreted text
(e.g. <code class="docutils literal notranslate"><span class="pre">unaryneg</span> <span class="pre">::=</span> <span class="pre">"-"</span> <span class="pre">`integer`</span></code>) – this generates cross-references
to the productions of these tokens.</p>
<p>Note that no further reST parsing is done in the production, so that you
don’t have to escape <code class="docutils literal notranslate"><span class="pre">*</span></code> or <code class="docutils literal notranslate"><span class="pre">|</span></code> characters.</p>
</dd></dl>
<p>The following is an example taken from the Python Reference Manual:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">productionlist</span><span class="p">::</span>
   try_stmt: try1_stmt | try2_stmt
   try1_stmt: "try" ":" <span class="nv">`suite`</span>
            : ("except" [<span class="nv">`expression`</span> ["," <span class="nv">`target`</span>]] ":" <span class="nv">`suite`</span>)+
            : ["else" ":" <span class="nv">`suite`</span>]
            : ["finally" ":" <span class="nv">`suite`</span>]
   try2_stmt: "try" ":" <span class="nv">`suite`</span>
            : "finally" ":" <span class="nv">`suite`</span>
</pre></div>
</div>
</section>
<section id="substitutions">
<h3>Substitutions<a class="headerlink" href="#substitutions" title="永久链接至标题">¶</a></h3>
<p>The documentation system provides three substitutions that are defined by
default. They are set in the build configuration file <code class="file docutils literal notranslate"><span class="pre">conf.py</span></code>.</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">|release|</span></span></dt>
<dd><p>Replaced by the Python release the documentation refers to.  This is the full
version string including alpha/beta/release candidate tags, e.g. <code class="docutils literal notranslate"><span class="pre">2.5.2b3</span></code>.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">|version|</span></span></dt>
<dd><p>Replaced by the Python version the documentation refers to. This consists
only of the major and minor version parts, e.g. <code class="docutils literal notranslate"><span class="pre">2.5</span></code>, even for version
2.5.1.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">|today|</span></span></dt>
<dd><p>Replaced by either today’s date, or the date set in the build configuration
file.  Normally has the format <code class="docutils literal notranslate"><span class="pre">April</span> <span class="pre">14,</span> <span class="pre">2007</span></code>.</p>
</dd></dl>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p>There is a standard <code class="docutils literal notranslate"><span class="pre">include</span></code> directive, but it raises errors if the
file is not found.  This one only emits a warning.</p>
</dd>
</dl>
</section>
</section>
<section id="building-the-documentation">
<span id="building-doc"></span><h2>Building the documentation<a class="headerlink" href="#building-the-documentation" title="永久链接至标题">¶</a></h2>
<p>The toolset used to build the docs is written in Python and is called <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a>.
Sphinx is maintained separately and is not included in this tree.  Also needed
are <a class="reference external" href="https://pypi.org/project/blurb/">blurb</a>, a tool to create <code class="file docutils literal notranslate"><span class="pre">Misc/NEWS</span></code> on demand; and
<a class="reference external" href="https://pypi.org/project/python-docs-theme/">python-docs-theme</a>, the Sphinx theme for the Python documentation.</p>
<p>To build the documentation, follow the instructions from one of the sections
below.  You can view the documentation after building the HTML by pointing
a browser at the file <code class="file docutils literal notranslate"><span class="pre">Doc/build/html/index.html</span></code>.</p>
<p>You are expected to have installed the latest stable version of
<a class="reference external" href="http://sphinx-doc.org/">Sphinx</a> and <a class="reference external" href="https://pypi.org/project/blurb/">blurb</a> on your system or in a <a class="reference external" href="https://virtualenv.pypa.io/">virtualenv</a> (which can be
created using <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">venv</span></code>), so that the Makefile can find the
<code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code> command.  You can also specify the location of
<code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code> with the <code class="docutils literal notranslate"><span class="pre">SPHINXBUILD</span></code> <strong class="command">make</strong> variable.</p>
<section id="using-make-make-bat">
<span id="building-using-make"></span><h3>Using make / make.bat<a class="headerlink" href="#using-make-make-bat" title="永久链接至标题">¶</a></h3>
<p><strong>On Unix</strong>, run the following from the root of your <a class="reference internal" href="setup.html#checkout"><span class="std std-ref">repository clone</span></a> to build the output as HTML:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> Doc
make venv
make html
</pre></div>
</div>
<p>or alternatively <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">-C</span> <span class="pre">Doc/</span> <span class="pre">venv</span> <span class="pre">html</span></code>.</p>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">help</span></code> to see a list of targets supported by
<strong class="command">make</strong>.  Note that <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">check</span></code> is automatically run when
you submit a <a class="reference internal" href="pullrequest.html"><span class="doc">pull request</span></a>, so you should make
sure that it runs without errors.</p>
<p><strong>On Windows</strong>, a <code class="file docutils literal notranslate"><span class="pre">make.bat</span></code> batchfile tries to emulate <strong class="command">make</strong>
as closely as possible, but the venv target is not implemented, so you will
probably want to make sure you are working in a virtual environment before
proceeding, otherwise all dependencies will be automatically installed on your
system.</p>
<p>When ready, run the following from the root of your <a class="reference internal" href="setup.html#checkout"><span class="std std-ref">repository clone</span></a> to build the output as HTML:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> Doc
make html
</pre></div>
</div>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">help</span></code> to see a list of targets supported by
<code class="file docutils literal notranslate"><span class="pre">make.bat</span></code>.</p>
<p>See also <code class="file docutils literal notranslate"><span class="pre">Doc/README.rst</span></code> for more information.</p>
</section>
<section id="using-sphinx-build">
<h3>Using sphinx-build<a class="headerlink" href="#using-sphinx-build" title="永久链接至标题">¶</a></h3>
<p>Sometimes we directly want to execute the sphinx-build tool instead of through
<cite>make</cite> (although the latter is still the preferred way). In this case, you can
use the following command line from the <cite>Doc</cite> directory (make sure to install
<a class="reference external" href="http://sphinx-doc.org/">Sphinx</a>, <a class="reference external" href="https://pypi.org/project/blurb/">blurb</a> and <a class="reference external" href="https://pypi.org/project/python-docs-theme/">python-docs-theme</a> packages from PyPI):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sphinx-build -b&lt;builder&gt; . build/&lt;builder&gt;
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;builder&gt;</span></code> is one of html, text, latex, or htmlhelp (for explanations
see the make targets above).</p>
</section>
</section>
<section id="translating">
<span id="id6"></span><h2>Translating<a class="headerlink" href="#translating" title="永久链接至标题">¶</a></h2>
<p>Python documentation translations are governed by the <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0545"><strong>PEP 545</strong></a>,
they are built by <a class="reference external" href="https://github.com/python/docsbuild-scripts/">docsbuild-scripts</a> and hosted on
docs.python.org. There are several documentation translations already
in production, other are work in progress:</p>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 22%"/>
<col style="width: 41%"/>
<col style="width: 37%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Language</p></th>
<th class="head"><p>Contact</p></th>
<th class="head"><p>Links</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Arabic (ar)</p></td>
<td><p><a class="reference external" href="https://bugs.python.org/user28057">Abdur-Rahmaan Janhangeer</a></p></td>
<td><p><a class="reference external" href="https://github.com/Abdur-rahmaanJ/py-docs-ar">GitHub</a></p></td>
</tr>
<tr class="row-odd"><td><p>Bengali as
spoken in
India (bn_IN)</p></td>
<td><p><a class="reference external" href="https://bugs.python.org/user16382">Kushal Das</a></p></td>
<td><p><a class="reference external" href="https://github.com/python/python-docs-bn-in">GitHub</a></p></td>
</tr>
<tr class="row-even"><td><p>French (fr)</p></td>
<td><p><a class="reference external" href="https://bugs.python.org/user23063">Julien Palard (mdk)</a></p></td>
<td><p><a class="reference external" href="https://github.com/python/python-docs-fr">GitHub</a></p></td>
</tr>
<tr class="row-odd"><td><p>Hindi as spoken
in india (hi_IN)</p></td>
<td></td>
<td><p><a class="reference external" href="https://github.com/CuriousLearner/python-docs-hi-in">GitHub</a></p></td>
</tr>
<tr class="row-even"><td><p>Hungarian (hu)</p></td>
<td><p><a class="reference external" href="https://bugs.python.org/user25857">Tamás Bajusz (gbtami)</a></p></td>
<td><p><a class="reference external" href="https://github.com/python/python-docs-hu">GitHub</a>
<a class="reference external" href="https://mail.python.org/pipermail/python-hu">Mailing List</a></p></td>
</tr>
<tr class="row-odd"><td><p>Indonesian (id)</p></td>
<td><p><a class="reference external" href="https://bugs.python.org/user32660">Oon Arfiandwi</a></p></td>
<td><p><a class="reference external" href="https://github.com/python/python-docs-id">GitHub</a></p></td>
</tr>
<tr class="row-even"><td><p>Italian (it)</p></td>
<td></td>
<td><p><a class="reference external" href="https://mail.python.org/pipermail/doc-sig/2019-April/004114.html">mail</a></p></td>
</tr>
<tr class="row-odd"><td><p>Japanese (ja)</p></td>
<td><p><a class="reference external" href="https://bugs.python.org/user19001">Kinebuchi Tomohiko
(cocoatomo)</a></p></td>
<td><p><a class="reference external" href="https://github.com/python/python-docs-ja">GitHub</a>
<a class="reference external" href="https://docs.python.org/ja/">Doc</a></p></td>
</tr>
<tr class="row-even"><td><p>Korean (ko)</p></td>
<td></td>
<td><p><a class="reference external" href="https://github.com/python/python-docs-ko">GitHub</a>
<a class="reference external" href="https://docs.python.org/ko/">Doc</a></p></td>
</tr>
<tr class="row-odd"><td><p>Lithuanian (lt)</p></td>
<td></td>
<td><p><a class="reference external" href="https://mail.python.org/pipermail/doc-sig/2019-July/004138.html">mail</a></p></td>
</tr>
<tr class="row-even"><td><p>Polish (pl)</p></td>
<td></td>
<td><p><a class="reference external" href="https://github.com/python/python-docs-pl">GitHub</a>
<a class="reference external" href="https://www.transifex.com/python-doc/python-newest/">Translations</a>
<a class="reference external" href="https://docs.python.org/pl/">Doc</a></p></td>
</tr>
<tr class="row-odd"><td><p>Portuguese (pt)</p></td>
<td><p>Gustavo Toffo</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Portuguese
as spoken
in Brasil
(pt-br)</p></td>
<td><p>Marco Rougeth</p></td>
<td><p><a class="reference external" href="https://github.com/python/python-docs-pt-br">GitHub</a>
<a class="reference external" href="http://python.org.br/traducao">Wiki</a>
<a class="reference external" href="https://t.me/pybr_i18n">Telegram</a>
<a class="reference external" href="http://rgth.co/blog/python-ptbr-cenario-atual">article</a></p></td>
</tr>
<tr class="row-odd"><td><p>Russian (ru)</p></td>
<td></td>
<td><p><a class="reference external" href="https://mail.python.org/pipermail/doc-sig/2019-May/004131.html">mail</a></p></td>
</tr>
<tr class="row-even"><td><p>Simplified
Chinese
(zh-cn)</p></td>
<td><p><a class="reference external" href="https://bugs.python.org/user24811">Shengjing Zhu</a></p></td>
<td><p><a class="reference external" href="https://www.transifex.com/python-doc/python-newest/">Transifex</a>
<a class="reference external" href="https://github.com/python/python-docs-zh-cn">GitHub</a>
<a class="reference external" href="https://docs.python.org/zh-cn/">Doc</a></p></td>
</tr>
<tr class="row-odd"><td><p>Spanish (es)</p></td>
<td><p>Raúl Cumplido</p></td>
<td><p><a class="reference external" href="https://github.com/python/python-docs-es">GitHub</a></p></td>
</tr>
<tr class="row-even"><td><p>Traditional
Chinese
(zh-tw)</p></td>
<td><p><a class="reference external" href="https://bugs.python.org/user39654">王威翔 Matt Wang</a>,
Josix Wang</p></td>
<td><p><a class="reference external" href="https://github.com/python/python-docs-zh-tw">GitHub</a>
<a class="reference external" href="https://www.transifex.com/python-tw-doc/python-36-tw">Transifex</a>
<a class="reference external" href="https://docs.python.org/zh-tw/">Doc</a></p></td>
</tr>
<tr class="row-odd"><td><p>Turkish (tr)</p></td>
<td></td>
<td><p><a class="reference external" href="https://github.com/alaeddingurel/python-docs-tr">GitHub</a></p></td>
</tr>
</tbody>
</table></div>
<section id="starting-a-new-translation">
<h3>Starting a new translation<a class="headerlink" href="#starting-a-new-translation" title="永久链接至标题">¶</a></h3>
<p>First subscribe to the <a class="reference external" href="https://mail.python.org/mailman/listinfo/doc-sig">doc-sig</a> mailing list,
and introduce yourself and the translation you’re starting.</p>
<p>Then you can bootstrap your new translation by using our <a class="reference external" href="https://github.com/JulienPalard/python-docs-cookiecutter">cookiecutter</a>.</p>
<p>The important steps looks like this:</p>
<ul class="simple">
<li><p>Create the github repo (anywhere), with the right hierarchy (using the
cookiecutter).</p></li>
<li><p>Gather people to help you translating, you can’t do it alone.</p></li>
<li><p>You can use any tool to translate, as long as you can synchronize with git.
Some are using Transifex, some are using only github, or you can choose another
way, it’s up to you.</p></li>
<li><p>Ensure we updated this page to reflect your work and progress, either via a
PR, or by asking on the doc-sig mailing list.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">tutorial/</span></code>, <code class="docutils literal notranslate"><span class="pre">bugs.py</span></code> and <code class="docutils literal notranslate"><span class="pre">library/functions</span></code>
are complete, ask on doc-sig for your language to be added in the
language picker on docs.python.org.</p></li>
</ul>
</section>
<section id="pep-545-summary">
<h3>PEP 545 summary:<a class="headerlink" href="#pep-545-summary" title="永久链接至标题">¶</a></h3>
<p>Here are the essential points of <span class="target" id="index-1"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0545"><strong>PEP 545</strong></a>:</p>
<ul class="simple">
<li><p>Each translation is assigned an appropriate lowercased language tag,
with an optional region subtag, joined with a dash, like
<code class="docutils literal notranslate"><span class="pre">pt-br</span></code> or <code class="docutils literal notranslate"><span class="pre">fr</span></code>.</p></li>
<li><p>Each translation is under CC0 and marked as so in the README (as in
the cookiecutter).</p></li>
<li><p>Translations files are hosted on
<code class="docutils literal notranslate"><span class="pre">https://github.com/python/python-docs-{LANGUAGE_TAG}</span></code> (not
mandatory to start a translation, but mandatory to land on
<code class="docutils literal notranslate"><span class="pre">docs.python.org</span></code>).</p></li>
<li><p>Translations having completed <code class="docutils literal notranslate"><span class="pre">tutorial/</span></code>, <code class="docutils literal notranslate"><span class="pre">library/stdtypes</span></code>
and <code class="docutils literal notranslate"><span class="pre">library/functions</span></code> are hosted on
<code class="docutils literal notranslate"><span class="pre">https://docs.python.org/{LANGUAGE_TAG}/{VERSION_TAG}/</span></code>.</p></li>
</ul>
</section>
<section id="how-to-get-help">
<h3>How to get help<a class="headerlink" href="#how-to-get-help" title="永久链接至标题">¶</a></h3>
<p>Discussions about translations occur on the <a class="reference external" href="https://mail.python.org/mailman/listinfo/doc-sig">doc-sig</a> mailing list,
and there’s a <a class="reference external" href="https://libera.chat/">Libera.Chat IRC</a> channel,
<code class="docutils literal notranslate"><span class="pre">#python-doc</span></code>.</p>
</section>
<section id="translation-faq">
<h3>Translation FAQ<a class="headerlink" href="#translation-faq" title="永久链接至标题">¶</a></h3>
<section id="which-version-of-python-documentation-should-be-translated">
<h4>Which version of Python documentation should be translated?<a class="headerlink" href="#which-version-of-python-documentation-should-be-translated" title="永久链接至标题">¶</a></h4>
<p>Consensus is to work on current stable, you can then propagate your
translation from a branch to another using <a class="reference external" href="https://pypi.org/p/pomerge">pomerge</a>.</p>
</section>
<section id="are-there-some-tools-to-help-in-managing-the-repo">
<h4>Are there some tools to help in managing the repo?<a class="headerlink" href="#are-there-some-tools-to-help-in-managing-the-repo" title="永久链接至标题">¶</a></h4>
<p>Here’s what’s we’re using:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pypi.org/p/pomerge">pomerge</a> to propagate translation
from a files to others.</p></li>
<li><p><a class="reference external" href="https://pypi.org/p/pospell">pospell</a> to check for typo in po files.</p></li>
<li><p><a class="reference external" href="https://pypi.org/p/powrap">powrap</a> to rewrap the <code class="docutils literal notranslate"><span class="pre">.po</span></code> files
before committing, this helps keeping git diffs short.</p></li>
<li><p><a class="reference external" href="https://pypi.org/p/potodo">potodo</a> to list what needs to be translated.</p></li>
</ul>
</section>
<section id="how-a-coordinator-is-elected">
<h4>How a coordinator is elected?<a class="headerlink" href="#how-a-coordinator-is-elected" title="永久链接至标题">¶</a></h4>
<p>There is no election, each translation have to sort this out.  Here are some suggestions.</p>
<ul class="simple">
<li><p>Coordinator requests are to be public on doc-sig mailing list.</p></li>
<li><p>If the given language have a native core dev, the core dev have its
word on the choice.</p></li>
<li><p>Anyone who wants to become coordinator for its native language, and shows
motivation by translating and building a community, will be named
coordinator.</p></li>
<li><p>In case of concurrency between two persons, no one will sort this out
for you.  It is up to you two to organize a local election or whatever
needed to sort this out.</p></li>
<li><p>In case a coordinator become inactive or unreachable for a long
period of time, someone else can ask for a takeover on doc-sig.</p></li>
</ul>
</section>
<section id="the-entry-for-my-translation-is-missing-not-up-to-date-on-this-page">
<h4>The entry for my translation is missing/not up to date on this page<a class="headerlink" href="#the-entry-for-my-translation-is-missing-not-up-to-date-on-this-page" title="永久链接至标题">¶</a></h4>
<p>Ask on doc-sig, or better, make a PR on the <a class="reference external" href="https://github.com/python/devguide/">devguide</a>.</p>
</section>
<section id="i-have-a-translation-but-not-on-git-what-should-i-do">
<h4>I have a translation, but not on git, what should I do?<a class="headerlink" href="#i-have-a-translation-but-not-on-git-what-should-i-do" title="永久链接至标题">¶</a></h4>
<p>You can ask for help on the doc-sig mailing list, and the team will help you
create an appropriate repository. You can still use tools like transifex,
if you like.</p>
</section>
<section id="my-git-hierarchy-does-not-match-yours-can-i-keep-it">
<h4>My git hierarchy does not match yours, can I keep it?<a class="headerlink" href="#my-git-hierarchy-does-not-match-yours-can-i-keep-it" title="永久链接至标题">¶</a></h4>
<p>No, inside the <code class="docutils literal notranslate"><span class="pre">github.com/python</span></code> organization we’ll all have the
exact same hierarchy so bots will be able to build all of our
translations. So you may have to convert from one hierarchy to another.
Ask for help on the doc-sig mailing list if you’re not sure on how to do
it.</p>
</section>
<section id="what-hierarchy-should-i-use-in-my-github-repository">
<h4>What hierarchy should I use in my github repository?<a class="headerlink" href="#what-hierarchy-should-i-use-in-my-github-repository" title="永久链接至标题">¶</a></h4>
<p>As for every project, we have a <em>branch</em> per version.  We store <code class="docutils literal notranslate"><span class="pre">po</span></code>
files in the root of the repository using the <code class="docutils literal notranslate"><span class="pre">gettext_compact=0</span></code>
style.</p>
</section>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="silencewarnings.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Silence Warnings From the Test Suite</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="docquality.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Helping with Documentation</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2011-2022, Python Software Foundation |
            最后更新于 3月 10, 2022. |
          Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
          <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            | <a class="muted-link" href="_sources/documenting.rst.txt"
               rel="nofollow">
              显示源代码
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            目录
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Documenting Python</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#style-guide">Style guide</a><ul>
<li><a class="reference internal" href="#use-of-whitespace">Use of whitespace</a></li>
<li><a class="reference internal" href="#footnotes">Footnotes</a></li>
<li><a class="reference internal" href="#capitalization">Capitalization</a></li>
<li><a class="reference internal" href="#affirmative-tone">Affirmative Tone</a></li>
<li><a class="reference internal" href="#economy-of-expression">Economy of Expression</a></li>
<li><a class="reference internal" href="#security-considerations-and-other-concerns">Security Considerations (and Other Concerns)</a></li>
<li><a class="reference internal" href="#code-examples">Code Examples</a></li>
<li><a class="reference internal" href="#code-equivalents">Code Equivalents</a></li>
<li><a class="reference internal" href="#audience">Audience</a></li>
</ul>
</li>
<li><a class="reference internal" href="#restructuredtext-primer">reStructuredText Primer</a><ul>
<li><a class="reference internal" href="#paragraphs">Paragraphs</a></li>
<li><a class="reference internal" href="#inline-markup">Inline markup</a></li>
<li><a class="reference internal" href="#lists-and-quotes">Lists and Quotes</a></li>
<li><a class="reference internal" href="#source-code">Source Code</a></li>
<li><a class="reference internal" href="#hyperlinks">Hyperlinks</a><ul>
<li><a class="reference internal" href="#external-links">External links</a></li>
<li><a class="reference internal" href="#internal-links">Internal links</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sections">Sections</a></li>
<li><a class="reference internal" href="#explicit-markup">Explicit Markup</a></li>
<li><a class="reference internal" href="#directives">Directives</a></li>
<li><a class="reference internal" href="#id2">Footnotes</a></li>
<li><a class="reference internal" href="#comments">Comments</a></li>
<li><a class="reference internal" href="#source-encoding">Source encoding</a></li>
<li><a class="reference internal" href="#gotchas">Gotchas</a></li>
</ul>
</li>
<li><a class="reference internal" href="#additional-markup-constructs">Additional Markup Constructs</a><ul>
<li><a class="reference internal" href="#meta-information-markup">Meta-information markup</a></li>
<li><a class="reference internal" href="#module-specific-markup">Module-specific markup</a></li>
<li><a class="reference internal" href="#information-units">Information units</a></li>
<li><a class="reference internal" href="#showing-code-examples">Showing code examples</a></li>
<li><a class="reference internal" href="#rest-inline-markup">Inline markup</a></li>
<li><a class="reference internal" href="#cross-linking-markup">Cross-linking markup</a></li>
<li><a class="reference internal" href="#paragraph-level-markup">Paragraph-level markup</a></li>
<li><a class="reference internal" href="#table-of-contents-markup">Table-of-contents markup</a></li>
<li><a class="reference internal" href="#index-generating-markup">Index-generating markup</a></li>
<li><a class="reference internal" href="#grammar-production-displays">Grammar production displays</a></li>
<li><a class="reference internal" href="#substitutions">Substitutions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-the-documentation">Building the documentation</a><ul>
<li><a class="reference internal" href="#using-make-make-bat">Using make / make.bat</a></li>
<li><a class="reference internal" href="#using-sphinx-build">Using sphinx-build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#translating">Translating</a><ul>
<li><a class="reference internal" href="#starting-a-new-translation">Starting a new translation</a></li>
<li><a class="reference internal" href="#pep-545-summary">PEP 545 summary:</a></li>
<li><a class="reference internal" href="#how-to-get-help">How to get help</a></li>
<li><a class="reference internal" href="#translation-faq">Translation FAQ</a><ul>
<li><a class="reference internal" href="#which-version-of-python-documentation-should-be-translated">Which version of Python documentation should be translated?</a></li>
<li><a class="reference internal" href="#are-there-some-tools-to-help-in-managing-the-repo">Are there some tools to help in managing the repo?</a></li>
<li><a class="reference internal" href="#how-a-coordinator-is-elected">How a coordinator is elected?</a></li>
<li><a class="reference internal" href="#the-entry-for-my-translation-is-missing-not-up-to-date-on-this-page">The entry for my translation is missing/not up to date on this page</a></li>
<li><a class="reference internal" href="#i-have-a-translation-but-not-on-git-what-should-i-do">I have a translation, but not on git, what should I do?</a></li>
<li><a class="reference internal" href="#my-git-hierarchy-does-not-match-yours-can-i-keep-it">My git hierarchy does not match yours, can I keep it?</a></li>
<li><a class="reference internal" href="#what-hierarchy-should-i-use-in-my-github-repository">What hierarchy should I use in my github repository?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/translations.js"></script>
    </body>
</html>